{"version":3,"sources":["components/ImageGalleryItem/ImageGalleryItem.module.css","components/Button/Button.module.css","components/Modal/Modal.module.css","components/ImageGallery/ImageGallery.module.css","components/Search/Search.jsx","services/pixabayAPI.js","components/ImageGallery/ImageGallery.jsx","components/ImageGalleryItem/ImageGalleryItem.jsx","components/Button/Button.jsx","components/Modal/Modal.jsx","components/GalleryContainer/GalleryContainer.jsx","App.js","reportWebVitals.js","index.js","components/Search/Search.module.css"],"names":["module","exports","Search","state","search","handleChangeSearch","e","setState","currentTarget","value","toLowerCase","handleSubmit","preventDefault","trim","props","onSubmit","className","s","SearchForm","this","SearchFormInput","type","autoComplete","autoFocus","placeholder","onChange","SearchFormButton","style","color","Component","fetchPicture","page","fetch","then","response","ok","console","log","json","Promise","reject","Error","ImageGallery","children","ImageGalleryItem","hits","onClickGalleryItem","map","id","webformatURL","largeImageURL","tags","onClick","src","alt","ImageGalleryItemImage","Button","loadMore","Container","data-action","modalRoot","document","querySelector","Modal","handleKeyDown","code","handleBackdropClick","target","window","addEventListener","removeEventListener","createPortal","Overlay","BodyGallery","messenge","loading","showModal","imageForModal","title","getDataForGallery","prevState","loadData","addSearch","name","toggleModal","scrollPageToEnd","scrollBy","top","documentElement","scrollHeight","behavior","prevProps","prevSearch","nextSearch","length","totalHits","toast","error","catch","finally","height","width","timeout","App","GalleryContainer","position","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.e50f6058.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGalleryItem\":\"ImageGalleryItem_ImageGalleryItem__19gRe\",\"ImageGalleryItemImage\":\"ImageGalleryItem_ImageGalleryItemImage__YC1e_\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Button\":\"Button_Button__2UH8H\",\"Container\":\"Button_Container__1pTZB\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Overlay\":\"Modal_Overlay__1JRYN\",\"Modal\":\"Modal_Modal__3FXPW\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGallery\":\"ImageGallery_ImageGallery__2Gunc\"};","import React, { Component } from 'react';\r\nimport { BsSearch } from 'react-icons/bs';\r\nimport s from './Search.module.css';\r\n\r\nclass Search extends Component {\r\n  state = {\r\n    search: '',\r\n  };\r\n\r\n  handleChangeSearch = e => {\r\n    this.setState({\r\n      search: e.currentTarget.value.toLowerCase(),\r\n    });\r\n  };\r\n\r\n  handleSubmit = e => {\r\n    e.preventDefault();\r\n\r\n    if (this.state.search.trim() === '') {\r\n      return;\r\n    }\r\n    this.props.onSubmit(this.state.search);\r\n    this.setState({ search: '' });\r\n  };\r\n\r\n  render() {\r\n    return (\r\n      <header className={s.Search}>\r\n        <form className={s.SearchForm} onSubmit={this.handleSubmit}>\r\n          <input\r\n            className={s.SearchFormInput}\r\n            type=\"text\"\r\n            autoComplete=\"off\"\r\n            autoFocus\r\n            placeholder=\"Search images and photos\"\r\n            onChange={this.handleChangeSearch}\r\n          />\r\n          <button type=\"submit\" className={s.SearchFormButton}>\r\n            <BsSearch style={{ color: 'white' }} />\r\n          </button>\r\n        </form>\r\n      </header>\r\n    );\r\n  }\r\n}\r\n\r\nexport default Search;","function fetchPicture(search, page) {\r\n  const key = '19376133-18e6dc3507064954324c531a9';\r\n  return fetch(\r\n    `https://pixabay.com/api/?q=${search}&page=${page}&key=${key}&image_type=photo&orientation=horizontal&per_page=12`,\r\n  ).then(response => {\r\n    if (response.ok) {\r\n      console.log(response);\r\n      return response.json();\r\n    }\r\n\r\n    return Promise.reject(new Error(`There is nothing about ${search}`));\r\n  });\r\n}\r\n\r\nexport default fetchPicture;","import s from './ImageGallery.module.css';\r\n\r\nfunction ImageGallery({ children }) {\r\n  return <ul className={s.ImageGallery}>{children}</ul>;\r\n}\r\n\r\nexport default ImageGallery;","import React, { Component } from 'react';\r\nimport s from './ImageGalleryItem.module.css';\r\n\r\nclass ImageGalleryItem extends Component {\r\n  render() {\r\n    const { hits, onClickGalleryItem } = this.props;\r\n\r\n    return hits.map(({ id, webformatURL, largeImageURL, tags }) => (\r\n      <li\r\n        key={id}\r\n        className={s.ImageGalleryItem}\r\n        onClick={() => onClickGalleryItem(largeImageURL, tags)}\r\n      >\r\n        <img src={webformatURL} alt={tags} className={s.ImageGalleryItemImage} />\r\n      </li>\r\n    ));\r\n  }\r\n}\r\n\r\nexport default ImageGalleryItem;","import PropTypes from 'prop-types';\r\nimport s from './Button.module.css';\r\n\r\nfunction Button({ loadMore }) {\r\n  return (\r\n    <div className={s.Container}>\r\n      <button type=\"button\" className={s.Button} data-action=\"load-more\" onClick={loadMore}>\r\n        Load more\r\n      </button>\r\n    </div>\r\n  );\r\n}\r\n\r\nButton.propTypes = {\r\n  loadMore: PropTypes.func.isRequired,\r\n};\r\n\r\nexport default Button;","import React, { Component } from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { createPortal } from 'react-dom';\r\nimport s from './Modal.module.css';\r\n\r\nconst modalRoot = document.querySelector('#modal-root');\r\n\r\nexport default class Modal extends Component {\r\n  componentDidMount() {\r\n    window.addEventListener('keydown', this.handleKeyDown);\r\n  }\r\n\r\n  componentWillUnmount() {\r\n    window.removeEventListener('keydown', this.handleKeyDown);\r\n  }\r\n  handleKeyDown = e => {\r\n    const { onClick } = this.props;\r\n\r\n    if (e.code === 'Escape') {\r\n      onClick();\r\n    }\r\n  };\r\n  handleBackdropClick = e => {\r\n    const { onClick } = this.props;\r\n\r\n    if (e.currentTarget === e.target) {\r\n      onClick();\r\n    }\r\n  };\r\n  render() {\r\n    const { children } = this.props;\r\n\r\n    return createPortal(\r\n      <div className={s.Overlay} onClick={this.handleBackdropClick}>\r\n        <div className={s.Modal}>{children}</div>\r\n      </div>,\r\n      modalRoot,\r\n    );\r\n  }\r\n}\r\n\r\nModal.propTypes = {\r\n  onClick: PropTypes.func.isRequired,\r\n  children: PropTypes.object.isRequired,\r\n};","import { Component } from 'react';\r\nimport Loader from 'react-loader-spinner';\r\nimport { toast } from 'react-toastify';\r\n\r\nimport fetchPicture from '../../services/pixabayAPI';\r\nimport ImageGallery from '../ImageGallery';\r\nimport ImageGalleryItem from '../ImageGalleryItem';\r\nimport Button from '../Button';\r\nimport Modal from '../Modal';\r\n\r\n\r\nclass BodyGallery extends Component {\r\n  state = {\r\n    hits: [],\r\n    search: '',\r\n    page: 1,\r\n    messenge: 'Something went wrong :(',\r\n    loading: false,\r\n    showModal: false,\r\n    imageForModal: '',\r\n    title: '',\r\n  };\r\n\r\n  componentDidMount() {}\r\n\r\n  componentDidUpdate(prevProps, prevState) {\r\n    const prevSearch = prevProps.search;\r\n    const nextSearch = this.props.search;\r\n\r\n    if (prevSearch !== nextSearch) {\r\n      this.setState({ loading: true });\r\n      this.loadData(nextSearch, 1);\r\n    }\r\n\r\n    if (prevState.hits.length < this.state.hits.length) {\r\n      this.scrollPageToEnd();\r\n    }\r\n  }\r\n\r\n  getDataForGallery = () => {\r\n    const search = this.props.search;\r\n\r\n    this.setState(prevState => ({\r\n      loading: true,\r\n    }));\r\n\r\n    this.loadData(search, this.state.page + 1);\r\n  };\r\n\r\n  loadData(search, page) {\r\n    return fetchPicture(search, page)\r\n      .then(({ hits, totalHits }) => {\r\n        if (totalHits === 0) {\r\n          toast.error(`There is nothing about ${search}`);\r\n        }\r\n        this.setState(prevState => ({\r\n          hits: page === 1 ? hits : [...prevState.hits, ...hits],\r\n          page: page,\r\n          totalHits: totalHits,\r\n        }));\r\n      })\r\n      .catch(error => {\r\n        toast.error(`Something went wrong. Try again later :(`);\r\n      })\r\n      .finally(() => this.setState({ loading: false }));\r\n  }\r\n\r\n  addSearch = name => {\r\n    this.setState({ search: name });\r\n  };\r\n\r\n  toggleModal = () => {\r\n    this.setState(({ showModal }) => ({\r\n      showModal: !showModal,\r\n    }));\r\n  };\r\n\r\n  loadMore = () => {\r\n    this.getDataForGallery();\r\n  };\r\n\r\n  scrollPageToEnd = () => {\r\n    window.scrollBy({\r\n      top: document.documentElement.scrollHeight,\r\n      behavior: 'smooth',\r\n    });\r\n  };\r\n\r\n  onClickGalleryItem = (src, alt) => {\r\n    this.toggleModal();\r\n    this.setState({ imageForModal: src, title: alt });\r\n  };\r\n\r\n  render() {\r\n    const { hits, loading, showModal, imageForModal, title, totalHits } = this.state;\r\n\r\n    return (\r\n      <>\r\n        {loading === true && <Loader type=\"TailSpin\" color=\"#3f78a7\" height={80} width={80} timeout={3000}/>}\r\n        <ImageGallery>\r\n          {hits.length !== 0 && (\r\n            <ImageGalleryItem hits={hits} onClickGalleryItem={this.onClickGalleryItem} />\r\n          )}\r\n        </ImageGallery>\r\n\r\n        {hits.length > 0 && hits.length < totalHits && <Button loadMore={this.loadMore} />}\r\n        {showModal && (\r\n          <Modal onClick={this.onClickGalleryItem}>\r\n            <img src={imageForModal} alt={title} />\r\n          </Modal>\r\n        )}\r\n      </>\r\n    );\r\n  }\r\n}\r\n\r\nexport default BodyGallery;","import React, { Component } from 'react';\nimport { ToastContainer } from 'react-toastify';\nimport 'react-toastify/dist/ReactToastify.css';\n// import './App.css';\nimport Search from './components/Search';\nimport GalleryContainer from './components/GalleryContainer/GalleryContainer';\n\nclass App extends Component {\n  state = {\n    search: '',\n  };\n\n  addSearch = name => {\n    this.setState({ search: name });\n  };\n\n  render() {\n    const { search } = this.state;\n    return (\n      <>\n        <Search onSubmit={this.addSearch} />\n        <GalleryContainer search={search} />\n        <ToastContainer position=\"top-right\" />\n      </>\n    );\n  }\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Search\":\"Search_Search__GYk-F\",\"SearchForm\":\"Search_SearchForm__2vXr-\",\"SearchFormInput\":\"Search_SearchFormInput__IqJGF\",\"SearchFormButton\":\"Search_SearchFormButton__1wfaZ\"};"],"sourceRoot":""}